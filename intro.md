# 关于此题的一些思考

## 题目分析

1. 首先阅读了 HR 发的邮件及提供的 github 链接上的 README，大致了解了需求：

- 需要做一个记账本程序
- 需要提供说明文档
- 需要提供测试用例
- 题目没有限制，可以按自己的理解去发挥

2. 题目涉及到添加账单数据的处理属于后端的内容，虽然实现较容易，但是题目是关于前端的，应该不是考察的关注点，
   故打算把这部分按正常工作时那样留给假设的后端去完成

## 程序实现

### 技术选型

1. 因为程序要实现好几个页面（列表、统计、添加账单），故可能要用到前端路由
2. 列表有较灵活的交互反馈设计需求，如果用 React 之类的数据驱动类库会比较方便
3. 程序不算复杂，且是一个人开发，可以不用 TypeScript 强类型语言
4. 里面涉及到 csv 格式的数据，按理应该是后端把 csv 录入到数据库前后端以 JSON 格式进行数据交互，但是这里
   少了后端这一环，不过可以直接获取 csv 文件，并在前端将 csv 转成 json 数据
5. 如果选择 React，直接使用 Create React App 创建项目比较方便快捷

### 用户体验与开发实现

1. 总体想法

- 题目要求以列表形式展现账单数据，而要展示的数据项并不多，布局上会比较单调，所以将页面宽度设计得窄一点，加入
  以期移动端常见的顶部导航条，以期产生接近手机的设计和体验。页面提供了较基础的移动版适配
- 考虑到可用性及开发成本的问题，UI 尽量采用原生的组件，在热(链接或可点击的)元素上也尽量考虑了可用性问题
- 页面尽量以颜色、尺寸大小，并结合用户习惯来提供视觉引导，比如列表页，我想把第一视点放到月份上，并自然转移到列表上
- 页面为保持统一，程序可扩展性和可维护性，应注意模块化、工程化和文件结构等问题

2. 列表页

- 列表加入了图标以使页面不那么单调，但是图标不宜过大，只起点缀作用
- 列表可以添加数据，而一个月的正常数据可能有上百条，有必要采用 `virtual-list` 来优化性能
- 将表头部分固定住可以比较方便地进行数据过滤操作

3. 统计页

- 统计有“支出”“收入”两项，可以用 `Tab` 形式来展示
- 统计页面可以通过顶部当前月份旁边的按钮进行月份的快捷切换，方便对比
- 支出构成应该直观展示数据，用图表比较合适

  - 这里没有使用饼图而是自己实现了一个类型柱状图的形式，因为饼图在过少的部分不太好显示注释文本
  - 柱状图可以通过点击选择与下面的排行榜进行关联
  - 柱状图默认在上一条基础之上偏量显示，共同组合成 100%的份额，有类型饼图的效果
  - 柱状图在点选后会变成相对于 y 轴显示，提供横向对应的视角

- 排行榜数据较少，可以不用 `virtual-list`

4. 添加账单页
   这个页面是纯表单交互，表单比较简单，前端做好必要的较验与提示，数据接口是模拟的，实现上从简

### 关于测试

测试部分只提示了几种典型的场景的测试用例

1. `./src/helper.test.js` 纯函数的测试
2. `./src/pages/ledger/state.test.js` React Hooks 测试
3. `./src/pages/ledger/index.test.js` React 组件测试
